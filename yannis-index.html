<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YANNIS INDEX - A Tragedy in Real Time</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d0a0a 100%);
            color: #ff4444;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            font-size: 4rem;
            text-align: center;
            margin: 40px 0;
            text-shadow: 0 0 20px #ff0000;
            letter-spacing: 8px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .subtitle {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: #ff6666;
        }
        
        .main-stats {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #ff4444;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.3);
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }
        
        .stat-row:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            font-size: 1.1rem;
            color: #ff8888;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .loss {
            color: #ff0000;
        }
        
        .gain {
            color: #00ff00;
        }
        
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .performance-card {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #ff4444;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .performance-card h3 {
            font-size: 0.9rem;
            color: #ff8888;
            margin-bottom: 10px;
        }
        
        .performance-card .value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .performance-card .subtitle-text {
            font-size: 0.8rem;
            color: #ff6666;
        }
        
        .roast-section {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff4444;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .roast-text {
            font-size: 1.3rem;
            color: #ff6666;
            line-height: 1.6;
            font-style: italic;
        }
        
        .timestamp {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
            margin-top: 20px;
        }
        
        .loading {
            text-align: center;
            font-size: 1.5rem;
            margin: 100px 0;
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
            
            .stat-value {
                font-size: 1.2rem;
            }
            
            .performance-card .value {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>YANNIS INDEX</h1>
        <div class="subtitle">ðŸ“‰ A Monument to Financial Regret ðŸ“‰</div>
        
        <div id="loading" class="loading">Calculating the damage...</div>
        
        <div id="content" style="display: none;">
            <div class="main-stats">
                <div class="stat-row">
                    <span class="stat-label">Bitcoin Holdings:</span>
                    <span class="stat-value">0.15 BTC</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Current BTC Price:</span>
                    <span class="stat-value" id="current-price">$0.00</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Peak Price (3 Days Ago):</span>
                    <span class="stat-value" id="peak-price">$0.00</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Current Portfolio Value:</span>
                    <span class="stat-value" id="current-value">$0.00</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Total Devastation Since Peak:</span>
                    <span class="stat-value loss" id="total-loss">-$0.00 (0.00%)</span>
                </div>
            </div>
            
            <div class="roast-section">
                <div class="roast-text" id="roast-message">
                    "Maybe buying at the peak wasn't your best move, champ."
                </div>
            </div>
            
            <div class="performance-grid">
                <div class="performance-card">
                    <h3>24 HOUR SPIRAL</h3>
                    <div class="value loss" id="day-1">-$0.00</div>
                    <div class="subtitle-text" id="day-1-pct">(0.00%)</div>
                </div>
                
                <div class="performance-card">
                    <h3>7 DAY DESCENT</h3>
                    <div class="value loss" id="day-7">-$0.00</div>
                    <div class="subtitle-text" id="day-7-pct">(0.00%)</div>
                </div>
                
                <div class="performance-card">
                    <h3>30 DAY CATASTROPHE</h3>
                    <div class="value loss" id="day-30">-$0.00</div>
                    <div class="subtitle-text" id="day-30-pct">(0.00%)</div>
                </div>
            </div>
            
            <div class="timestamp">
                Last updated: <span id="timestamp"></span><br>
                Auto-refreshes every 60 seconds to capture maximum pain
            </div>
        </div>
    </div>

    <script>
        const BTC_AMOUNT = 0.15;
        const PEAK_DATE = new Date();
        PEAK_DATE.setDate(PEAK_DATE.getDate() - 3);
        
        let peakPrice = null;
        
        const roastMessages = [
            "At least you can't lose what you already lost, right? Oh wait...",
            "HODL they said. Diamond hands they said. How's that working out?",
            "This is fine. Everything is fine. The number just keeps going down, that's normal.",
            "Remember when you thought crypto was the future? The future is now, Yannis.",
            "Your portfolio is doing the limbo. How low can it go?",
            "Congratulations! You've successfully bought high. Now for the selling low part?",
            "The only thing mooning here is your regret.",
            "Imagine if you'd just kept it in a savings account. Imagine.",
            "Warren Buffett is laughing somewhere.",
            "This is what financial advisors call 'a learning experience'.",
            "Your money is on vacation. It's just not coming back.",
            "Should've bought pizza with it. At least you'd have eaten well.",
            "The line goes down so smoothly, it's almost beautiful. Almost.",
            "This is performance art. Tragic, expensive performance art.",
        ];
        
        function getRandomRoast() {
            return roastMessages[Math.floor(Math.random() * roastMessages.length)];
        }
        
        function formatCurrency(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value);
        }
        
        function formatPercent(value) {
            return value.toFixed(2) + '%';
        }
        
        async function fetchBitcoinPrice() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await response.json();
                return data.bitcoin.usd;
            } catch (error) {
                console.error('Error fetching current price:', error);
                return null;
            }
        }
        
        async function fetchHistoricalPrice(daysAgo) {
            try {
                const date = new Date();
                date.setDate(date.getDate() - daysAgo);
                const timestamp = Math.floor(date.getTime() / 1000);
                
                const response = await fetch(`https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=usd&from=${timestamp - 3600}&to=${timestamp + 3600}`);
                const data = await response.json();
                
                if (data.prices && data.prices.length > 0) {
                    return data.prices[0][1];
                }
                return null;
            } catch (error) {
                console.error(`Error fetching price from ${daysAgo} days ago:`, error);
                return null;
            }
        }
        
        async function updateDashboard() {
            try {
                const currentPrice = await fetchBitcoinPrice();
                
                if (!peakPrice) {
                    peakPrice = await fetchHistoricalPrice(3);
                }
                
                const price1d = await fetchHistoricalPrice(1);
                const price7d = await fetchHistoricalPrice(7);
                const price30d = await fetchHistoricalPrice(30);
                
                if (currentPrice && peakPrice) {
                    // Update main stats
                    document.getElementById('current-price').textContent = formatCurrency(currentPrice);
                    document.getElementById('peak-price').textContent = formatCurrency(peakPrice);
                    
                    const currentValue = BTC_AMOUNT * currentPrice;
                    const peakValue = BTC_AMOUNT * peakPrice;
                    const totalLoss = currentValue - peakValue;
                    const totalLossPct = (totalLoss / peakValue) * 100;
                    
                    document.getElementById('current-value').textContent = formatCurrency(currentValue);
                    
                    const totalLossEl = document.getElementById('total-loss');
                    totalLossEl.textContent = `${formatCurrency(totalLoss)} (${formatPercent(totalLossPct)})`;
                    totalLossEl.className = totalLoss < 0 ? 'stat-value loss' : 'stat-value gain';
                    
                    // Update time period losses
                    if (price1d) {
                        const value1d = BTC_AMOUNT * price1d;
                        const loss1d = currentValue - value1d;
                        const loss1dPct = (loss1d / value1d) * 100;
                        
                        const day1El = document.getElementById('day-1');
                        day1El.textContent = formatCurrency(loss1d);
                        day1El.className = loss1d < 0 ? 'value loss' : 'value gain';
                        document.getElementById('day-1-pct').textContent = `(${formatPercent(loss1dPct)})`;
                    }
                    
                    if (price7d) {
                        const value7d = BTC_AMOUNT * price7d;
                        const loss7d = currentValue - value7d;
                        const loss7dPct = (loss7d / value7d) * 100;
                        
                        const day7El = document.getElementById('day-7');
                        day7El.textContent = formatCurrency(loss7d);
                        day7El.className = loss7d < 0 ? 'value loss' : 'value gain';
                        document.getElementById('day-7-pct').textContent = `(${formatPercent(loss7dPct)})`;
                    }
                    
                    if (price30d) {
                        const value30d = BTC_AMOUNT * price30d;
                        const loss30d = currentValue - value30d;
                        const loss30dPct = (loss30d / value30d) * 100;
                        
                        const day30El = document.getElementById('day-30');
                        day30El.textContent = formatCurrency(loss30d);
                        day30El.className = loss30d < 0 ? 'value loss' : 'value gain';
                        document.getElementById('day-30-pct').textContent = `(${formatPercent(loss30dPct)})`;
                    }
                    
                    // Update roast message
                    document.getElementById('roast-message').textContent = getRandomRoast();
                    
                    // Update timestamp
                    document.getElementById('timestamp').textContent = new Date().toLocaleString();
                    
                    // Show content, hide loading
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('content').style.display = 'block';
                }
            } catch (error) {
                console.error('Error updating dashboard:', error);
            }
        }
        
        // Initial load
        updateDashboard();
        
        // Refresh every 60 seconds
        setInterval(updateDashboard, 60000);
    </script>
</body>
</html>
